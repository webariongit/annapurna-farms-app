<!-- <ion-header [translucent]="true">
 

  <ion-toolbar color="light" class="pl-2 pr-2">
   
    <ion-icon slot="start" name="location"></ion-icon>
    <ion-title slot="start" class="text-sm">Amravati Maharashtra</ion-title>
    <ion-icon slot="end" name="notifications"></ion-icon>
  </ion-toolbar>
</ion-header> -->

<ion-header [translucent]="true" >
  <ion-toolbar class="pl-2 pr-2">
    <!-- <ion-buttons slot="start">
      <ion-back-button class="text-white"></ion-back-button>
    </ion-buttons> -->
    <ion-icon slot="start" name="menu" (click)="openMenu()" class="h-icon"></ion-icon>
    <ion-icon slot="start" name="location" class="h-icon"></ion-icon>
    <ion-title slot="start" class=" font-p text-sm ">{{address}}</ion-title>
  
    <ion-icon slot="end" name="ticket-outline"  routerLink="/coupon" class="pr-1 h-icon"></ion-icon>
    <ion-icon slot="end" name="cart"  routerLink="/cart" class="pr-1 h-icon"></ion-icon>
    <ion-icon slot="end" name="notifications"  routerLink="/notifications" class="h-icon"></ion-icon>
   
  </ion-toolbar>
  <ion-toolbar class="pl-2 pr-2">
  <div class="p-1">
    <div class="bg-white rounded-lg shadow-md">
      <div class="flex items-center pl-3 mb-2">
        <ion-icon slot="start" style="color: black;" name="search" ></ion-icon>&nbsp;&nbsp;
        <ion-input class="flex-1 font-p" style="color: black;" placeholder="Search your Desire Item" id="search" routerLink="/search">
          <ion-icon name="search" style="margin-left: 7px"></ion-icon>
        </ion-input>
      
        <ion-icon  name="options-outline" class="px-4" style="margin-left: 7px;color: black !important"></ion-icon>
      </div>
    </div>
  </div>  </ion-toolbar>
</ion-header>
<!-- 
<div class="menuclass" >
   
  <ion-menu side="start" type="push" contentId="main" style="position:fixed; z-index: 8;" >

    <ion-content >
      <br><br>
      
      <ion-list class="menulist">
        <ion-item>
          <ion-col style="height: 35%; width: auto;" >
            <img class="imgg"  [src]="profilePic" *ngIf="profilePic">
            <img class="w-12 h-12 rounded-full" *ngIf="!profilePic" src="assets/profile.png" alt="Rounded profile">
          </ion-col>
        </ion-item>
        <ion-item class="menulabel" (click)="menuclose()">
          <ion-label class="font-p">Home</ion-label>
          <ion-icon name="home" slot="start"></ion-icon>

        </ion-item>
        <ion-item class="menulabel" [routerLink]="['/profile']">
          <ion-icon name="person" slot="start"></ion-icon>
          <ion-label class="font-p">Profile</ion-label>
        </ion-item>
        <ion-item class="menulabel" [routerLink]="['/cart']">
         
          <ion-icon name="cart" slot="start"></ion-icon>
          <ion-label class="font-p"> Cart</ion-label>
        </ion-item>
      
       
        
       
      
       
        <ion-item [routerLink]="['/fav-list']">
         
          <ion-icon name="heart" slot="start" ></ion-icon>
          <ion-label class=" font-p menulabel">Favourite</ion-label>

        </ion-item>
        <ion-item [routerLink]="['/bag']">
         
          <ion-icon name="bag" slot="start" ></ion-icon>
          <ion-label class=" font-p menulabel">Order history</ion-label>

        </ion-item>

        <ion-item (click)="logout()">
         
          <ion-icon name="log-out" slot="start" ></ion-icon>
          <ion-label class=" font-p menulabel">Logout</ion-label>

        </ion-item>
        <br>
      
      </ion-list>
    </ion-content>
  </ion-menu>

  <ion-router-outlet id="main"></ion-router-outlet>
</div> -->

<ion-content [fullscreen]="true" color="light">
  <ion-refresher (ionRefresh)="refreshData($event)">
    <ion-refresher-content
      pullingText="Pull to refresh..."
      refreshingText="Refreshing..."
    ></ion-refresher-content>
  </ion-refresher>
  <div class="p-3">

   

    <!-- <div class="custom-slider" >
      <div class="card1  slider-container" (click)="nextSlide()">
        <img   [src]="currentImage.url" alt="{{ currentImage.alt }}"
        (error)="currentImage.url = 'https://annapurnafarms.net/images/zummXD2dvAtI.png'" 
          style="border-radius: 10px"/>
      </div> -->
      <!-- <div class="navigation">
        <button (click)="prevSlide()"><<</button>
        <button (click)="nextSlide()">>></button>
      </div> -->
    <!-- </div> -->
    <swiper-container>
      <swiper-slide *ngFor="let item of images">
        <div class="custom-slider" >
        <div class="card1  slider-container" >
        <img class="rounded-md" src="{{item.url}}" alt="First slide">
      </div></div>
      </swiper-slide>
     
    </swiper-container>
    <!-- <div class="mt-2"> -->
      <!-- <swiper-container  #swiper
      
  [speed]="500"
  [modules]="swiperModules" keyboard="true" :pagination="true" :scrollbar="true" :zoom="true"
  [slidesPerView]="3" style="height: auto;" >
  <swiper-wrapper>
    <swiper-slide>
      <img class="rounded-md" src="assets/pslider1.jpeg" alt="First slide">
    </swiper-slide>
   
  </swiper-wrapper>
      </swiper-container> -->
      
      <!-- <div id="carouselExampleSlidesOnly" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img class="rounded-md" src="assets/pslider.png" alt="First slide">
          
          </div>
          <div class="carousel-item">
            <img class="rounded-md" src="assets/pslider.png" alt="Second slide">
          </div>
          <div class="carousel-item">
            <img class="rounded-md" src="assets/pslider.png" alt="Third slide">
          </div>
        </div>
      </div>
     -->
    <!-- </div> -->

    <div class="flex justify-between p-1 mt-2">
      <ion-label class="text-black  text-md pl-2 font-h">Shop By Category</ion-label>
      <p style="color: #06a058;" class="text-sm font-semibold pr-2 font-p" routerLink="/category"> View All</p>
    </div>

    <ion-grid>
      <ion-row >
        <ion-col
        size="4"
        class="pt-2 mb-2"
        *ngFor="let cat of category"
      >
        <div
          class="card1 bg-white relative transition duration-500"
          (click)="gottosubcategory(cat.category_id)"
        >
          <img *ngIf="cat.category_image"
            class="rounded-t-lg w-full object-cover dashb2 cimg"
            src="{{this.imageurl+'/category/'+cat.category_image}}" 
            alt=""
          />
          <img   class="rounded-t-lg w-full object-cover dashb2 cimg"   *ngIf="!cat.category_image"
           src=" https://annapurnafarms.net/images/zummXD2dvAtI.png" alt="">
             
          <div class="px-4 rounded-lg bg-white">
            <ion-card-title class="text-xs p-1 truncate  font-p"  style="font-weight: bold; text-align: center;">
              {{cat.category_name}}</ion-card-title  >
           
          </div>
         
        </div>
      </ion-col>
        <!-- <ion-col size="4"  *ngFor="let cat of category">
          <div class=" rounded-md bg-white w-full  text-center" (click)="gottosubcategory(cat.category_id)">
              <img width="100" class=" card1 " style="    margin: 0px 0px 0px 4px; border-radius: 10px;" *ngIf="cat.category_image" height="100" src="{{this.imageurl+'/category/'+cat.category_image}}" alt="">
              <img width="100" class=" card1 "  style="    margin: 0px 0px 0px 4px; border-radius: 10px;" *ngIf="!cat.category_image" height="100" src=" https://annapurnafarms.net/images/zummXD2dvAtI.png" alt="">
             
              <p style=" font-size: xx-small;" class="text-xs p-1">{{cat.category_name}}</p>
          </div>
        </ion-col> -->

        <!-- <ion-col size="3">
          <div class="rounded-md bg-white w-full border border-gray-100 shadow-md text-center">
              <img width="100" height="100" src="assets/ps3.png" alt="">
                            <p style="background-color: #06a058; color: #fff; font-size: xx-small;" class="text-xs p-1">Skin Care</p>

            </div>
        </ion-col>

        <ion-col size="3">
          <div class="rounded-md bg-white w-full border border-gray-100 shadow-md text-center">
              <img width="100" height="100" src="assets/ps2.png" alt="">
                            <p style="background-color: #06a058; color: #fff; font-size: xx-small;" class="text-xs p-1">Skin Care</p>

            </div>
        </ion-col>

        <ion-col size="3">
          <div class="rounded-md bg-white w-full border border-gray-100 shadow-md text-center">
              <img width="100" height="100" src="assets/ps1.png" alt="">
                            <p style="background-color: #06a058; color: #fff; font-size: xx-small;" class="text-xs p-1">Skin Care</p>

            </div>
        </ion-col> -->
      </ion-row>
    </ion-grid>

    <div class="flex justify-between p-1"  >
      <ion-label class="text-black  font-h text-md pl-2"> Best Selling Product</ion-label>
      <!-- <p style="color: #06a058;" class="text-sm font-p pr-2" (click)="viewallproduct()"> View All</p> -->
    </div>
    <ion-grid>
      <ion-row>
        <ion-col size="6" *ngFor="let item of product" class="mb-2">
          <div class="rounded-md bg-white w-full border border-gray-100 shadow-md " style="min-height: 105%;" >
            <div align="center" class="p-1 mt-4" (click)="gotoproductdetails(item)">
              <!-- <img width="100" height="100" src="{{this.imageurl+'/product/'+item.product_image}}" alt=""> -->
              <img width="100" *ngIf="item.product_image" style="height: 5.5rem"   src="{{this.imageurl+'/product/'+item.product_image.split(',')[0] }}" alt="">
              <img width="100" *ngIf="!item.product_image" style="height: 5.5rem" src=" https://annapurnafarms.net/images/zummXD2dvAtI.png" alt="">
         
            </div>
            <p style="z-index: 1; position: absolute;; top: 4px; left: 10px; background-color: #06a058; color: #fff; font-size: x-small;"
              class="mt-2 p-1 rounded-tr-md rounded-br-md">0.0 % OFF</p>
            <p style="z-index: 1; position: absolute; top: 4px; right: 10px;" class="text-sm mt-2">
              <ion-icon style="color: #06a058;" class="text-2xl" name="heart-outline" (click)="addtocard(item,'fav')"></ion-icon>
  
                </p>
  
           
           
            <div class="flex" style="width:100%;">
                <div style="width:86%;float: left;padding-left: 12px;">
                    <p class="text-black text-sm font-semibold truncate">{{item.product_name}}</p>
                    <p class="text-gray-400 text-sm truncate">{{item.category_name}}</p>
                   
                    <div *ngIf="guestid>0">
                      <!-- <ng-container [ngSwitch]="item.product_price"> -->
                        
                        <p *ngIf="item.product_promotion_price > 0 "  class="text-md font-semibold text-black" >₹{{item.product_promotion_price}}
                          <!-- <s *ngIf="item.product_promotion_price > 0 " style="color:green">₹{{item.product_price}}</s> -->
                        </p> 
                      
                        <p *ngIf="item.product_promotion_price == null || 0" class="text-md font-semibold text-black" >₹{{item.product_price}}</p>
                     
                      <!-- </ng-container> -->
                     
                    </div>
                    <p  class="text-md font-semibold text-black" >₹{{item.product_promotion_price}}
                      <s  style="color:green">MPR : {{item.product_price}}</s>
                    </p> 
                   
                    <p class="text-md font-semibold text-black" *ngIf="guestid==0">₹</p>
                </div>
                <div style="float:right;    transform: translate(-10px, 22px);">
                  <p style="z-index: 1; position: absolute;;  background-color: #06a058; color: #fff; "
              class="mt-2 p-1  rounded-tl-lg rounded-br-lg">
              <ion-icon  class="text-2xl" name="cart-outline" (click)="addtocard(item,'cart')"></ion-icon>
  
            </p>
                </div>
             </div>
          </div>
  
        </ion-col>
  
       
      </ion-row>
    </ion-grid>
    <!-- <ion-grid>
      <ion-row>
        <ion-col size="6" *ngFor="let item of product">
          <div class="card1 rounded-md bg-white w-full border border-gray-100 shadow-md " >
            <div align="center" class="p-1 mt-4" style="height: 100px;">
              <img style="width: 80% !important; height: 80%;" (click)="gotoproductdetails(item)"
              src="{{ this.imageurl + '/product/' + item.product_image.split(',')[0] }}" alt="">
              
              <img style="width: 80% !important; " *ngIf="!item.product_image"  (click)="gotoproductdetails(item)"  src=" https://annapurnafarms.net/images/zummXD2dvAtI.png" alt="">
            </div>
            <p style="z-index: 1; position: absolute; visibility: hidden; top: 4px; left: 10px; background-color: #06a058; color: #fff; font-size: x-small;"
              class="mt-2 p-1 rounded-tr-md rounded-br-md font-p">0.0 % OFF</p>
            <p style="z-index: 1; position: absolute; top: 4px; right: 10px;" class="text-sm mt-2">
            
               <ion-icon style="color: #06a058;" class="text-2xl" name="heart-outline" (click)="addtocard(item,'fav')"></ion-icon>
              </p>

            <div align="center">
              <p class="text-black font-p truncate p-2">{{item.product_name}}</p>
              <p class="text-gray-400 text-sm truncate font-p">{{item.category_name}}</p>
             
              <p class="text-md  text-black font-p">₹{{item.product_price}}</p>
            </div>
            <p style="background-color: #06a058; color: #fff; font-size: xx-small;" class="text-center p-2" (click)="addtocard(item,'cart')">Add to cart</p> 
            -->
            <!-- <div class="flex justify-end pl-2 pb-2 pr-2 -mt-2" > -->
              <!-- <p style="background-color: #06a058; color: #fff; font-size: xx-small;" class="text-xs p-1" (click)="addtocard(item,'cart')">Add to cart</p> -->
              <!-- <ion-icon style="color: #06a058;" class="text-2xl" name="heart-outline" (click)="addtocard(item,'fav')"></ion-icon> -->
              <!-- <ion-icon style="color: #06a058;" class="text-2xl" name="add-circle" (click)="addtocard(item,'cart')"></ion-icon> -->
            <!-- </div> -->
          <!-- </div>
        </ion-col> -->

       
      <!-- </ion-row>
    </ion-grid> -->


    <div class="flex justify-between p-1" >
      <ion-label class="text-black  font-h text-md pl-2">Express Offers</ion-label>
      <!-- <p style="color: #06a058;" class="text-sm font-p pr-2"> View All</p> -->
    </div>

    <ion-grid>
      <ion-row>
        <ion-col size="6" *ngFor="let item of promoimage">
          
            <div align="center" [routerLink]="['/category']"  class="p-1 mt-4" *ngIf="item.url" class="card1 rounded-md bg-white w-full border border-gray-100 shadow-md" >
              <img style="width: 75% !important;"  [src]="item.url"
              [alt]="item.alt"  (error)="handleImageError(item)"
               >
            </div>
        </ion-col>
      </ion-row>
    </ion-grid>
    <div class="flex justify-between p-1" >
      <ion-label class="text-black  font-h text-md pl-2">Top Brands</ion-label>
    </div>
 
      
          <!-- <ion-grid>
            <ion-row size="12" >
              <ion-col size="4"  > -->
                <swiper-container class="pl-2 pr-2"  [loop]="false"
                [observer]="true"
                [speed]="500"
                >

                  <swiper-slide *ngFor="let item of brands" [class.custom-slide]="true">
          <div align="center" style="height: 5rem;" class="p-1 mt-4" *ngIf="item.image" class="card1 rounded-md bg-white w-full border border-gray-100 shadow-md" >
            <img style="width: 75% !important; height: fit-content;"  src="{{this.imageurl+'/brand/'+item.image}}"           
             >
          </div>
        </swiper-slide>
       
      </swiper-container>
        <!-- </ion-col>
     
      </ion-row>    </ion-grid> -->
    
 
      <!-- <ion-row>
        <ion-col size="4" *ngFor="let item of brands">
          
            <div align="center" class="p-1 mt-4" *ngIf="item.image" class="card1 rounded-md bg-white w-full border border-gray-100 shadow-md" >
              <img style="width: 75% !important;" src="{{this.imageurl+'/brand/'+item.image}}" 
               
               >
            </div>
        </ion-col>
      </ion-row> -->

    <!-- <div class="custom-slider" >
      <div class="card1  slider-container" (click)="nextSlide()">
        <img   [src]="secoundcurrent.url" alt="{{ secoundcurrent.alt }}"
        (error)="secoundcurrent.url = 'https://annapurnafarms.net/images/zummXD2dvAtI.png'" 
          style="border-radius: 10px"/>
      </div> -->
      <!-- <div class="navigation">
        <button (click)="prevSlide()"><<</button>
        <button (click)="nextSlide()">>></button>
      </div> -->
    <!-- </div> -->
    <swiper-container>
      <swiper-slide *ngFor="let item of secondimages">
        <div class="custom-slider" >
        <div class="card1  slider-container" >
        <img class="rounded-md" src="{{item.url}}" alt="First slide">
      </div></div>
      </swiper-slide>
     
    </swiper-container>
    
    <!-- <ngx-slick-carousel class="carousel" 
    [config]="slideConfig" 
    (init)="slickInit($event)"
    (breakpoint)="breakpoint($event)"
    (afterChange)="afterChange($event)"
    (beforeChange)="beforeChange($event)">
<div ngxSlickItem *ngFor="let slide of slides" class="slide">
<img src="{{ slide.img }}" alt="" width="100%">
</div>
</ngx-slick-carousel> -->
<!-- 
<button (click)="addSlide()">Add</button>
<button (click)="removeSlide()">Remove</button> -->
<!-- <button (click)="slickModal.slickGoTo(2)">slickGoto 2</button> -->
<!-- <button (click)="slickModal.unslick()">unslick</button> -->

<!-- <slick-carousel [config]="carouselConfig" class="carousel-container">
    <div align="center" class=" p-1 mt-4" *ngFor="let slide of slidesss" class="carousel-item card1 rounded-md bg-white w-full border border-gray-100 shadow-md" >
           
    <img [src]="slide.img" [alt]="slide.alt" class="carousel-image"  style="width: 75% !important;"/>
  </div>
</slick-carousel> -->

    <div class="flex justify-between p-1" >
      <ion-label class="text-black  font-h text-md pl-2">Popular Offers</ion-label>
    </div>
    <ion-grid>
      <ion-row>
        
        <ion-col size="4" *ngFor="let item of popularimage">
          
            <div align="center" class="p-1 mt-4" *ngIf="item.url" class="card1 rounded-md bg-white w-full border border-gray-100 shadow-md" >
              <img style="width: 75% !important;"  [src]="item.url"
              [alt]="item.alt"  (error)="handleImageError(item)"
               >
            </div>
        </ion-col>
      </ion-row>
    </ion-grid>
    <div class="flex justify-between p-1 mt-2">
      <ion-label class="text-black font-h text-md pl-2">Popular Items </ion-label>
      <!-- <p style="color: #06a058;" class="text-sm font-semibold pr-2"> View All</p> -->
    </div>

    <ion-grid>
      <ion-row *ngFor="let item of popularproductdata">
        <ion-col size="12" >

          <div class="bg-white shadow-md rounded-md  p-2">
            <ion-row >
              <ion-col size="3" class="flex items-center" >
                  <img width="100" *ngIf="item.product_image"  (click)="gotoproductdetails(item)"  height="100" src="{{this.imageurl+'/product/'+item.product_image.split(',')[0] }}"
                   alt="">
                  <img width="100" *ngIf="!item.product_image" (click)="gotoproductdetails(item)" height="100" src=" https://annapurnafarms.net/images/zummXD2dvAtI.png" alt="">
             
              </ion-col>

              <ion-col szie="9" class="truncate">
                <ion-label class="text-black font-p truncate">{{item.product_name}}</ion-label>
                <p class="text-gray-400 text-xs truncate">{{item.category_name}}</p>
                <!-- <p> -->
                  <!-- <ion-icon style="color: #06a058;" class="text-2xl ss" name="heart-outline" (click)="addtocard(item,'fav')"></ion-icon> -->
                   
                  <!-- <ion-icon class="text-gray-300 text-xs" name="star"></ion-icon>
                  <ion-icon class="text-gray-300 text-xs" name="star"></ion-icon>
                  <ion-icon class="text-gray-300 text-xs" name="star"></ion-icon>
                  <ion-icon class="text-gray-300 text-xs" name="star"></ion-icon> -->
                <!-- </p> -->
                <div class="flex justify-between">
                  <div *ngIf="guestid>0">
                    <!-- <ng-container [ngSwitch]="item.product_price"> -->
                      
                      <p *ngIf="item.product_promotion_price > 0 "  class="text-md font-semibold text-black" >₹{{item.product_promotion_price}}
                        <s *ngIf="item.product_promotion_price > 0 " style="color:green">₹{{item.product_price}}</s>
                      </p> 
                    
                      <p *ngIf="item.product_promotion_price == null || 0" class="text-md font-semibold text-black" >₹{{item.product_price}}</p>
                   
                    <!-- </ng-container> -->
                   
                  </div>
                  <!-- <p class="text-md font-p text-black" *ngIf="guestid>0">₹{{item.product_price}}</p> -->
                  <p class="text-md font-p text-black" *ngIf="guestid==0">₹ </p>
                  <ion-row>
                    <ion-col>
                  <ion-icon style="color: #06a058;" class="text-2xl ss" name="heart-outline" (click)="addtocard(item,'fav')"></ion-icon>
                      
                    </ion-col>
                    <ion-col>
                      <!-- <p style="background-color: #06a058; color: #fff; font-size: xx-small;" class="text-xs p-1" (click)="addtocard(item,'cart')">Add to cart</p> -->
                  <ion-icon style="color: #06a058;" class="text-2xl" name="add-circle" (click)="addtocard(item,'cart')"></ion-icon>
                      
                    </ion-col>
                  </ion-row>
                </div>
              </ion-col>
            </ion-row>

          </div>

        </ion-col>
      </ion-row>
    </ion-grid>

    <!-- <div class="flex justify-between p-1 mt-2">
      <ion-label class="text-black font-p text-md pl-2">All Stores</ion-label>
      <p style="color: #06a058;" class="text-md font-semibold pr-2"> <ion-icon name="filter"></ion-icon></p>
    </div> -->
   
  </div>
  <ion-list>
    <ion-item>
      <ion-label>Rate Us</ion-label>
      <ion-icon
        *ngFor="let star of [1, 2, 3, 4, 5]"
        name="star"
        [style.color]="star <= userRating ? 'gold' : 'gray'"
        (click)="openRatingPopup(star)"
      ></ion-icon>
    </ion-item>
  </ion-list>
  <br>
  <br><br>
  
</ion-content>
<!-- Rating Pop-up Template (hidden by default) -->
<ion-card id="rating-popup" *ngIf="showRatingPopup">
  <ion-card-header>
    Rate Us
  </ion-card-header>
  <ion-card-content>
    <ion-item>
      <ion-label>Rating: {{ userRating }} stars</ion-label>
    </ion-item>
    <ion-item>
      <ion-label>Write a Review:</ion-label>
      <ion-textarea [(ngModel)]="userReview"></ion-textarea>
    </ion-item>
  </ion-card-content>
  <ion-card-footer>
    <ion-button expand="full" (click)="submitRatingAndReview()">Submit</ion-button>
    <ion-button expand="full" (click)="closeRatingPopup()">Cancel</ion-button>
  </ion-card-footer>
</ion-card>
<app-footer></app-footer>